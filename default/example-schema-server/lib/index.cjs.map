{"version":3,"file":"index.cjs","sources":["../src/schema/root.ts","../src/server.ts","../src/index.ts"],"sourcesContent":["import { GraphQLSchemaModule, gql } from '@texo/graphql-schema';\n\nconst typeDefs = gql`\n  type Query {\n    engine: String!\n  }\n`;\n\nconst resolvers = {\n  Query: {\n    engine: async () => 'texo-schema'\n  }\n};\n\nconst module : GraphQLSchemaModule = { typeDefs, resolvers };\n\nexport default module;","import { SchemaServer } from '@texo/graphql-schema';\nimport { createLogger, NamespacedLogger, NamespaceFilters, transports, format } from '@texo/logging';\n\nimport RootModule from './schema/root'\n\nexport async function server() {\n  const server = new SchemaServer({\n    schemaModules: [ RootModule ],\n    applicationName: \"Schema Example\",\n    applicationVersion: \"0.0.0\",\n    logger: logger()\n  });\n\n  server.listen({ port: 8080 });\n}\n\nfunction logger() : NamespacedLogger {\n  const consoleFormat = format.combine(\n    format.colorize(),\n    format.timestamp(),\n    format.metadata({fillExcept: [ 'level', 'ns', 'timestamp', 'message' ]}),\n    format.printf(info => `${info.level} ${info.timestamp} ${info.ns} ${info.message} ${JSON.stringify(info.metadata)}`)\n  );\n\n  const filters = new NamespaceFilters('debug', '*');\n  return createLogger('EXAMPLE', filters, {\n    level: 'debug',\n    format: consoleFormat,\n    transports: [ new transports.Console() ]\n  });\n}","import { server } from './server';\n\n(async () => { await server() })();"],"names":["gql","module","SchemaServer","RootModule","format","NamespaceFilters","createLogger","transports"],"mappings":";;;;;AAEA,MAAM,QAAQ,GAAGA,iBAAG;;;;CAApB;AAMA,MAAM,SAAS,GAAG;AAChB,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE,YAAY;AADf;AADS,CAAlB;AAMA,MAAMC,QAAM,GAAyB;AAAE,EAAA,QAAF;AAAY,EAAA;AAAZ,CAArC;;ACTO,eAAe,MAAf,GAAqB;AAC1B,QAAM,MAAM,GAAG,IAAIC,0BAAJ,CAAiB;AAC9B,IAAA,aAAa,EAAE,CAAEC,QAAF,CADe;AAE9B,IAAA,eAAe,EAAE,gBAFa;AAG9B,IAAA,kBAAkB,EAAE,OAHU;AAI9B,IAAA,MAAM,EAAE,MAAM;AAJgB,GAAjB,CAAf;AAOA,EAAA,MAAM,CAAC,MAAP,CAAc;AAAE,IAAA,IAAI,EAAE;AAAR,GAAd;AACD;;AAED,SAAS,MAAT,GAAe;AACb,QAAM,aAAa,GAAGC,cAAM,CAAC,OAAP,CACpBA,cAAM,CAAC,QAAP,EADoB,EAEpBA,cAAM,CAAC,SAAP,EAFoB,EAGpBA,cAAM,CAAC,QAAP,CAAgB;AAAC,IAAA,UAAU,EAAE,CAAE,OAAF,EAAW,IAAX,EAAiB,WAAjB,EAA8B,SAA9B;AAAb,GAAhB,CAHoB,EAIpBA,cAAM,CAAC,MAAP,CAAc,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,QAApB,CAA6B,EAAjH,CAJoB,CAAtB;AAOA,QAAM,OAAO,GAAG,IAAIC,wBAAJ,CAAqB,OAArB,EAA8B,GAA9B,CAAhB;AACA,SAAOC,oBAAY,CAAC,SAAD,EAAY,OAAZ,EAAqB;AACtC,IAAA,KAAK,EAAE,OAD+B;AAEtC,IAAA,MAAM,EAAE,aAF8B;AAGtC,IAAA,UAAU,EAAE,CAAE,IAAIC,kBAAU,CAAC,OAAf,EAAF;AAH0B,GAArB,CAAnB;AAKD;;AC5BD,CAAC,YAAW;AAAG,QAAM,MAAM,EAAZ;AAAgB,CAA/B"}