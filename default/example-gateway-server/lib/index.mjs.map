{"version":3,"file":"index.mjs","sources":["../src/server.ts","../src/index.ts"],"sourcesContent":["import { GatewayServer, GatewayServerConfig, GraphQLModuleDefinitionType, HttpGraphQLModuleDefinition } from '@texo/graphql-gateway';\nimport { createLogger, NamespacedLogger, NamespaceFilters, transports, format } from '@texo/logging';\n\n\n\nexport async function server() {\n  const server = new GatewayServer({\n    applicationName: \"Schema Example\",\n    applicationVersion: \"0.0.0\",\n    logger: createServerLogger(),\n    modules: [\n      new HttpGraphQLModuleDefinition('billing', { url: 'http://localhost:8080/graphql' })\n    ]\n  });\n\n  server.listen({ port: 8081 });\n}\n\nfunction createServerLogger() : NamespacedLogger {\n  const consoleFormat = format.combine(\n    format.colorize(),\n    format.timestamp(),\n    format.metadata({fillExcept: [ 'level', 'ns', 'timestamp', 'message' ]}),\n    format.printf(info => `${info.level} ${info.timestamp} ${info.ns} ${info.message} ${JSON.stringify(info.metadata)}`)\n  );\n\n  const filters = new NamespaceFilters('debug', '*');\n  return createLogger('EXAMPLE', filters, {\n    level: 'debug',\n    format: consoleFormat,\n    transports: [ new transports.Console() ]\n  });\n}","import { server } from './server';\n\n(async () => { await server() })();"],"names":[],"mappings":";;;AAKO,eAAe,MAAf,GAAqB;AAC1B,QAAM,MAAM,GAAG,IAAI,aAAJ,CAAkB;AAC/B,IAAA,eAAe,EAAE,gBADc;AAE/B,IAAA,kBAAkB,EAAE,OAFW;AAG/B,IAAA,MAAM,EAAE,kBAAkB,EAHK;AAI/B,IAAA,OAAO,EAAE,CACP,IAAI,2BAAJ,CAAgC,SAAhC,EAA2C;AAAE,MAAA,GAAG,EAAE;AAAP,KAA3C,CADO;AAJsB,GAAlB,CAAf;AASA,EAAA,MAAM,CAAC,MAAP,CAAc;AAAE,IAAA,IAAI,EAAE;AAAR,GAAd;AACD;;AAED,SAAS,kBAAT,GAA2B;AACzB,QAAM,aAAa,GAAG,MAAM,CAAC,OAAP,CACpB,MAAM,CAAC,QAAP,EADoB,EAEpB,MAAM,CAAC,SAAP,EAFoB,EAGpB,MAAM,CAAC,QAAP,CAAgB;AAAC,IAAA,UAAU,EAAE,CAAE,OAAF,EAAW,IAAX,EAAiB,WAAjB,EAA8B,SAA9B;AAAb,GAAhB,CAHoB,EAIpB,MAAM,CAAC,MAAP,CAAc,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAL,CAAe,IAAI,CAAC,QAApB,CAA6B,EAAjH,CAJoB,CAAtB;AAOA,QAAM,OAAO,GAAG,IAAI,gBAAJ,CAAqB,OAArB,EAA8B,GAA9B,CAAhB;AACA,SAAO,YAAY,CAAC,SAAD,EAAY,OAAZ,EAAqB;AACtC,IAAA,KAAK,EAAE,OAD+B;AAEtC,IAAA,MAAM,EAAE,aAF8B;AAGtC,IAAA,UAAU,EAAE,CAAE,IAAI,UAAU,CAAC,OAAf,EAAF;AAH0B,GAArB,CAAnB;AAKD;;AC9BD,CAAC,YAAW;AAAG,QAAM,MAAM,EAAZ;AAAgB,CAA/B"}